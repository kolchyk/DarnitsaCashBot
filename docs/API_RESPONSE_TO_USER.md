# –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è QR –∫–æ–¥–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API —Ä–µ–µ—Å—Ç—Ä–∞ —Ñ–∏—Å–∫–∞–ª—å–Ω—ã—Ö —á–µ–∫–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏ —á–µ–∫–∞.

## –ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ

–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

1. **–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç API** - –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ `https://cabinet.tax.gov.ua/ws/api_public/rro/chkAll`
2. **–û—à–∏–±–∫–∞ API** - –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–≤–µ—Ç–µ

```
‚úÖ –î–∞–Ω—ñ —á–µ–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–æ –∑ —Ä–µ—î—Å—Ç—Ä—É —Ñ—ñ—Å–∫–∞–ª—å–Ω–∏—Ö —á–µ–∫—ñ–≤

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üè™ –¢–æ—Ä–≥–æ–≤–µ–ª—å–Ω–∞ —Ç–æ—á–∫–∞: [–ù–∞–∑–≤–∞ —Ç–æ—Ä–≥–æ–≤–µ–ª—å–Ω–æ—ó —Ç–æ—á–∫–∏]

üÜî –ù–æ–º–µ—Ä —á–µ–∫–∞: [ID —á–µ–∫–∞]

üìã –§—ñ—Å–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä –†–†–û: [–§–ù –†–†–û]

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìÑ –î–∞–Ω—ñ —á–µ–∫–∞:
[–¢–µ–∫—Å—Ç —á–µ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç—ñ UTF-8]

üìå –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:
‚úÖ XML –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ
‚úÖ –ß–µ–∫ –ø—ñ–¥–ø–∏—Å–∞–Ω–æ –ö–ï–ü
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ

### –û—à–∏–±–∫–∞ 400 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–æ–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
```
‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Ä–µ—î—Å—Ç—Ä—É —Ñ—ñ—Å–∫–∞–ª—å–Ω–∏—Ö —á–µ–∫—ñ–≤

–ù–∞ –ø–µ—Ä—ñ–æ–¥ –¥—ñ—ó –≤–æ—î–Ω–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –æ–±–º–µ–∂–µ–Ω–æ –¥–æ—Å—Ç—É–ø –¥–æ –ø—É–±–ª—ñ—á–Ω–∏—Ö –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—ñ–≤.

üí° –©–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î?
–ß–µ–∫ —É—Å–ø—ñ—à–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ, –∞–ª–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ —Ä–µ—î—Å—Ç—Ä—É –∑–∞—Ä–∞–∑ –Ω–µ–º–æ–∂–ª–∏–≤–æ —á–µ—Ä–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è.

‚úÖ –í–∞—à —á–µ–∫ –≤—Å–µ –æ–¥–Ω–æ –±—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–æ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –î–∞—Ä–Ω–∏—Ü—è.
```

### –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏ –∏ —É—Å–ø–æ–∫–æ–µ–Ω–∏–µ–º, —á—Ç–æ —á–µ–∫ –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- **–§–∞–π–ª:** `apps/api_gateway/services/ocr/worker.py`
- **–§—É–Ω–∫—Ü–∏—è:** `_notify_api_response()`
- **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç API (—Å—Ç—Ä–æ–∫–∞ 131)

### –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—à–∏–±–∫–∏
- **–§–∞–π–ª:** `apps/api_gateway/services/ocr/worker.py`
- **–§—É–Ω–∫—Ü–∏—è:** `_notify_api_error()`
- **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö API (—Å—Ç—Ä–æ–∫–∞ 142)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram: **4096 —Å–∏–º–≤–æ–ª–æ–≤**
- –¢–µ–∫—Å—Ç —á–µ–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ **3500 —Å–∏–º–≤–æ–ª–æ–≤** (—Å —Ä–µ–∑–µ—Ä–≤–æ–º –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
python scripts/test_user_message.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ API
```bash
python scripts/test_tax_api.py "https://cabinet.tax.gov.ua/cashregs/check?id=..."
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
- –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞: `INFO` —É—Ä–æ–≤–µ–Ω—å
- –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏: `WARNING` –∏–ª–∏ `ERROR` —É—Ä–æ–≤–µ–Ω—å

–õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç:
- Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ID —á–µ–∫–∞
- –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏
- –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)

