#!/bin/bash
# Post-compile hook for Heroku to install Playwright browser
set -e  # Exit on error

echo "-----> Installing Playwright Chromium browser..."

# Install chromium to default location (/app/.cache/ms-playwright/)
# This is where Playwright expects to find browsers
python -m playwright install chromium

# Verify installation
if [ -d "/app/.cache/ms-playwright" ]; then
    echo "-----> Playwright browsers installed to /app/.cache/ms-playwright/"
    ls -la /app/.cache/ms-playwright/ || true
else
    echo "-----> WARNING: Playwright browsers directory not found at expected location"
fi

echo "-----> Playwright Chromium installed successfully!"

